@{
    Layout = null;
}
@model DoAnHMS.Models.Payments.BookingViewModel
<!DOCTYPE html>
<html lang="vi">
<head>
    <title>HOANG GIA HOTELS - ĐẶT PHÒNG</title>
    <!-- for-mobile-apps -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Resort Inn Responsive , Smartphone Compatible web template , Samsung, LG, Sony Ericsson, Motorola web design" />
    <script type="application/x-javascript">
        addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
               function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- //for-mobile-apps -->
    <link href="~/Assets/Client/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <link href="~/Assets/Client/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="~/Assets/Client/css/chocolat.css" type="text/css" media="screen">
    <link href="~/Assets/Client/css/easy-responsive-tabs.css" rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="~/Assets/Client/css/flexslider.css" type="text/css" media="screen" property="" />
    <link rel="stylesheet" href="~/Assets/Client/css/jquery-ui.css" />
    <link href="~/Assets/Client/css/style.css" rel="stylesheet" type="text/css" media="all" />
    <script type="text/javascript" src="~/Assets/Client/js/modernizr-2.6.2.min.js"></script>
    <!--fonts-->
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet">
    <!--//fonts-->
    <style>
        textarea#noiDung {
            font-size: 17px;
            font-weight: normal;
            color: #fff;
            background-color: transparent;
            border-radius: 0;
            border-color: #fff;
            font-family: 'Lato', sans-serif;
        }
    </style>
</head>
<body>
    <!-- header -->
    <div class="banner-top">
        <div class="social-bnr-agileits">
            <ul class="social-icons3">
                <li><a href="https://www.facebook.com/" class="fa fa-facebook icon-border facebook"> </a></li>
                <li><a href="https://twitter.com/" class="fa fa-twitter icon-border twitter"> </a></li>
                <li><a href="#" class="fa fa-google-plus icon-border googleplus"> </a></li>
            </ul>
        </div>
        <div class="contact-bnr-w3-agile">
            <ul>
                <li><i class="fa fa-envelope" aria-hidden="true"></i>hoangabc000@gmail.com</li>
                <li><i class="fa fa-phone" aria-hidden="true"></i>0366201726</li>
            </ul>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="w3_navigation">
        <div class="container">
            <nav class="navbar navbar-default">
                <div class="navbar-header navbar-left">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand mb-0 h5" href="#">HOANG GIA HOTELS</a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                    <nav class="menu menu--iris">
                        <ul class="nav navbar-nav menu__list">
                            <li class="menu__item menu__item--current"><a href="@Url.Action("Index", "Hotel")" class="menu__link">Trở về trang chủ</a></li>
                        </ul>
                    </nav>
                </div>
            </nav>

        </div>
    </div>
    <!-- //header -->
    <!-- feedback -->
    <section class="contact-w3ls" id="contact">
        <div class="container">
            <div class="row">

                @using (Ajax.BeginForm("DatPhong", "Hotel", FormMethod.Post, new AjaxOptions

                {
                    HttpMethod = "POST",
                    UpdateTargetId = "load_data",
                    OnSuccess="OnSuccessCO",
                    OnFailure="OnFailure",
                    OnBegin="OnBeginCO"
                }

                  , new { @id = "myForm" }))
                {
                    <script>
                        function OnSuccessCO(res) {
                            if (res.Success) {
                                    location.href = res.Url
                           
                            }
                        }
                        function OnFailure(xhr, status, error) {
                            console.log(xhr.responseText); // Kiểm tra lỗi xảy ra trong quá trình gửi form
                        }
                        function OnBeginCO() {

                        }
                    </script>
                    @Html.AntiForgeryToken()
                    <div class="col-lg-6 col-md-6 col-sm-6 contact-w3-agile2" data-aos="flip-left" id="myForm">
                        <div class="contact-agileits">
                            <h4>ĐĂNG KÍ PHÒNG</h4>
                            <h5 style="color:white; font-size:18px">Đăng Kí Phòng @ViewBag.MaPhong. Bạn Cần Nhập Đủ Thông Tin Bên Dưới</h5>
                            <br />
                            <div class="control-group form-group" style="display:none">
                                <label class="contact-p1">Mã Phòng:</label>
                                <input type="text" class="form-control" name="MaP" id="name" value="@ViewBag.MaPhongID">
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Họ và tên:</label>
                                <input type="text" class="form-control" name="TenKH" id="name" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Số điện thoại:</label>
                                <input type="tel" class="form-control" name="SDT" id="phone" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">CMND - Hộ chiếu:</label>
                                <input type="tel" class="form-control" name="CMND_Passport" maxlength="15" id="phone" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Địa chỉ email:</label>
                                <input type="email" class="form-control" name="Email" id="email" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Ngày đến:</label>
                                <input type="datetime-local" id="name" name="NgayDen" class="form-control" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Ngày trả:</label>
                                <input type="datetime-local" id="name" name="NgayDi" class="form-control" required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Số phòng muốn đặt:</label>
                                <input type="number" id="phone" name="SoLuong" class="form-control"  required>
                                <p class="help-block"></p>
                            </div>

                            <div class="control-group form-group">
                                <label class="contact-p1">Chọn phương thức thanh toán:</label>
                                <select class="form-control" name="TypePayment" id="phone">
                                    <option value="1" selected>Thanh toán tại quầy</option>
                                    <option value="0">Thanh toán qua Zalo</option>
                                    <option value="2">Thanh toán qua VNPay</option>
                                </select>
                                <p class="help-block"></p>
                            </div>
                            @*<div class="text" id="load_form_Payment" style="display:none; background-color:antiquewhite;color:black;padding:5px;border-radius:10px">
                                <h5><label>Cách 1: Chuyển hướng sang VNPAY phương thức thanh toán</label></h5>
                                <label><input type="radio" name="typePayMentVN" value="0" checked />Cổng thanh toán VNPAYOR</label><br />
                                <h5><label>Cách 2: Tách phương thức thanh toán tại site của Marchant</label></h5>
                                <label><input type="radio" name="typePayMentVN" value="1" />Thanh toán qua ứng dụng VNPAYQR</label><br />
                                <label><input type="radio" name="typePayMentVN" value="2" />ATM- Tài khoản ngân hàng nội địa</label><br />
                                <label><input type="radio" name="typePayMentVN" value="3" />Thanh toán qua thẻ quốc tế</label><br />
                            </div>*@
                            <div class="form-control" id="load_send" style="display:none"></div>

                            <input id="submitButton" type="submit" name="sub" value="Gửi ngay" class="btn btn-primary mb-2" style="margin: 0 auto">
                            @*<a id="load_form_zalo" href="https://zalo.me/0366201726" class="btn btn-success mb-2" style="display:none">Chuyển qua zalo</a>*@
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 contact-w3-agile2 row">
                        <div class="">
                            <img src="~/Assets/Client/images/home_stay_1.jpg" alt=" " class="img-responsive col-12" />
                            <div class="contact-agileits" style="color:white">
                                <p>
                                    SPhòng view đẹp, nhân viên Ly Nal ễ tân nhiệt tình dịch vụ tốt!
                                    Khu vui chơi phong phú nhiều trò chơi rộng lớn có nhiều cây cối,
                                    đồ ăn phong phú đa dạng, có cơ hội sẽ ghé trở lại một lần nữa, và sẽ giới thiệu với bạn bè
                                </p>
                            </div>
                            <div class="image-container" style="display: flex;">
                                <img src="~/Assets/Client/images/home_stay_2.jpg" alt=" " class="img-responsive col-6" style="width: 50%; height: auto;" />
                                <img src="~/Assets/Client/images/home_stay_3.png" alt=" " class="img-responsive col-6" style="width: 50%; height: auto;" />
                            </div>

                        </div>
                    </div>
                    <div class="clearfix"></div>
                }

            </div>
        </div>
    </section>
    <!-- /contact -->
    <div class="copy">
        <p>© 2024SUNRISE . Thiết kế bởi <a href="#">Nguyễn Đắc Hoàng</a> </p>
    </div>
    <!--/footer -->
    <!-- js -->
    <script type="text/javascript" src="~/Assets/Client/js/jquery-2.1.4.min.js"></script>
    <!-- contact form -->
    <script src="~/Assets/Client/js/jqBootstrapValidation.js"></script>

    <!-- /contact form -->
    <!-- Calendar -->
    <script src="~/Assets/Client/js/jquery-ui.js"></script>
    <script>
        $(function () {
            $("#datepicker,#datepicker1,#datepicker2,#datepicker3").datepicker();
        });
        $(document).ready(function () {
            $('body').on('change', '#drTypePayment', function () {
                var type = $(this).val();
                $('#load_form_Payment').hide();
                $('#load_form_zalo').hide();
                if (type == '2') {
                    $('#load_form_Payment').show();
                }
                else if (type == "0") {
                    $('#load_form_zalo').show()
                }
            });

        });
        $(document).ready(function () {
            $('#myForm').submit(function (e) {
                e.preventDefault();
                var formData = $(this).serialize();
                $.ajax({
                    type: 'POST',
                    url: '/Hotel/DatPhong',
                    data: formData,
                    success: function (res) {
                        OnSuccessCO(res);
                    },
                    error: function (xhr, status, error) {
                        OnFailure(xhr, status, error);
                    }
                });
            });
        });
        /*$(document).ready(function () {
            $("#bookingForm").submit(function (event) {
                event.preventDefault(); // Prevent the default form submission
                var token = $('input[name="__RequestVerificationToken"]').val();
                $.ajax({
                    type: "POST",
                    url: "/Hotel/DatPhong",
                    data: JSON.stringify({
                        TenKH: $("input[name='TenKH']").val(),
                        MaP: $("input[name='MaP']").val(),
                        SDT: $("input[name='SDT']").val(),
                        CMND_Passport: $("input[name='CMND_Passport']").val(),
                        Email: $("input[name='Email']").val(),
                        NgayDen: $("input[name='NgayDen']").val(),
                        NgayDi: $("input[name='NgayDi']").val(),
                        TypePayment: $("select[name='TypePayment']").val(),
                        typePayMentVN: $("input[name='typePayMentVN']:checked").val(),
                        __RequestVerificationToken: token
                    }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (res) {
                        if (res.Success) {
                            window.location.href = res.Url;

                        } else {
                            console.log("Error: ", res.message);
                        }
                    },
                    error: function (xhr, status, error) {
                        console.log("Error: ", error);
                        console.log("Status: ", status);
                        console.dir(xhr);
                    }
                });
            });
        });*/

        

    </script>
    <!-- //Calendar -->
    <!-- gallery popup -->
    <link rel="stylesheet" href="~/Assets/Client/css/swipebox.css">
    <script src="~/Assets/Client/js/jquery.swipebox.min.js"></script>
    <script type="text/javascript">
        jQuery(function ($) {
            $(".swipebox").swipebox();
        });
    </script>
    <!-- //gallery popup -->
    <!-- start-smoth-scrolling -->
    <script type="text/javascript" src="~/Assets/Client/js/move-top.js"></script>
    <script type="text/javascript" src="~/Assets/Client/js/easing.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function ($) {
            $(".scroll").click(function (event) {
                event.preventDefault();
                $('html,body').animate({ scrollTop: $(this.hash).offset().top }, 1000);
            });
        });
    </script>
    <!-- start-smoth-scrolling -->
    <!-- flexSlider -->
    <script defer src="~/Assets/Client/js/jquery.flexslider.js"></script>
    <script type="text/javascript">
        $(window).load(function () {
            $('.flexslider').flexslider({
                animation: "slide",
                start: function (slider) {
                    $('body').removeClass('loading');
                }
            });
        });
    </script>
    <!-- //flexSlider -->
    <script src="~/Assets/Client/js/responsiveslides.min.js"></script>
    <script>
        // You can also use "$(window).load(function() {"
        $(function () {
            // Slideshow 4
            $("#slider4").responsiveSlides({
                auto: true,
                pager: true,
                nav: false,
                speed: 500,
                namespace: "callbacks",
                before: function () {
                    $('.events').append("<li>before event fired.</li>");
                },
                after: function () {
                    $('.events').append("<li>after event fired.</li>");
                }
            });

        });
    </script>
    <!--search-bar-->
    <script src="~/Assets/Client/js/main.js"></script>
    <!--//search-bar-->
    <!--tabs-->
    <script src="~/Assets/Client/js/easy-responsive-tabs.js"></script>
    <script>
        $(document).ready(function () {
            $('#horizontalTab').easyResponsiveTabs({
                type: 'default', //Types: default, vertical, accordion
                width: 'auto', //auto or any width like 600px
                fit: true,   // 100% fit in a container
                closed: 'accordion', // Start closed if in accordion view
                activate: function (event) { // Callback function if tab is switched
                    var $tab = $(this);
                    var $info = $('#tabInfo');
                    var $name = $('span', $info);
                    $name.text($tab.text());
                    $info.show();
                }
            });
            $('#verticalTab').easyResponsiveTabs({
                type: 'vertical',
                width: 'auto',
                fit: true
            });
        });
    </script>
    <!--//tabs-->
    <!-- smooth scrolling -->
    <script type="text/javascript">
        $(document).ready(function () {
            /*
                var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear'
                };
            */
            $().UItoTop({ easingType: 'easeOutQuart' });
        });
    </script>

    <div class="arr-w3ls">
        <a href="#home" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
    </div>
    <!-- //smooth scrolling -->
    <script type="text/javascript" src="~/Assets/Client/js/bootstrap-3.1.1.min.js"></script>
</body>
</html>




